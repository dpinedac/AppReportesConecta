{"remainingRequest":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\src\\views\\ReporteGeneral.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\src\\views\\ReporteGeneral.vue","mtime":1626110284850},{"path":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbGVuZGFyIGZyb20gInByaW1ldnVlL2NhbGVuZGFyIjsKaW1wb3J0IERhdGFUYWJsZSBmcm9tICJwcmltZXZ1ZS9kYXRhdGFibGUiOwppbXBvcnQgeyBGaWx0ZXJNYXRjaE1vZGUsIEZpbHRlck9wZXJhdG9yIH0gZnJvbSAicHJpbWV2dWUvYXBpIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FsZW5kYXI6IENhbGVuZGFyLAogICAgRGF0YVRhYmxlOiBEYXRhVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRlMzogbnVsbCwKICAgICAgbWluRGF0ZTogbnVsbCwKICAgICAgbWF4RGF0ZTogbnVsbCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGNpdGFzOiBudWxsLAogICAgICBmaWx0ZXJzOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICB0aGlzLm1pbkRhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpIC0gMSwgMSk7CiAgICB0aGlzLm1heERhdGUgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpICsgMSwgMCk7CiAgICB0aGlzLmluaXRGaWx0ZXJzMSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGdldENpdGFzOiBmdW5jdGlvbiBnZXRDaXRhcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciAkdnVlID0gdGhpczsKICAgICAgdmFyIGRhdGUxID0gJHZ1ZS5kYXRlMyAhPSBudWxsID8gJHZ1ZS5kYXRlM1swXSA6ICR2dWUubWluRGF0ZTsKICAgICAgdmFyIGRhdGUyID0gJHZ1ZS5kYXRlMyAhPSBudWxsID8gJHZ1ZS5kYXRlM1sxXSA6ICR2dWUubWF4RGF0ZTsKICAgICAgdmFyIHVzZXIgPSBDb29raWVzLmdldCgidXNlciIpOwoKICAgICAgaWYgKGRhdGUxID09IHVuZGVmaW5lZCB8fCBkYXRlMiA9PSB1bmRlZmluZWQgfHwgdXNlciA9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgICR2dWUubG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gbW9tZW50KGRhdGUxKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgdmFyIGZvcm1hdHRlZERhdGVGaW4gPSBtb21lbnQoZGF0ZTIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICBheGlvcy5nZXQoIi9hcGkvbGlzdGFyQ2l0YXM/ZGluaT0iICsgZm9ybWF0dGVkRGF0ZSArICImZGZpbj0iICsgZm9ybWF0dGVkRGF0ZUZpbiArICImdHh0dXN1YXJpbz0iICsgdXNlcikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLmNpdGFzID0gZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhckZpbHRlcjE6IGZ1bmN0aW9uIGNsZWFyRmlsdGVyMSgpIHsKICAgICAgdGhpcy5pbml0RmlsdGVyczEoKTsKICAgIH0sCiAgICBpbml0RmlsdGVyczE6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzMSgpIHsKICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgRE9DVU1FTlRPOiB7CiAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5FUVVBTFMKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBUTTE1TkRFVU9QRTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgR0VTVE9SR0VTVElPTjogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgVkdFU1RPUjogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBleHBvcnRDU1Y6IGZ1bmN0aW9uIGV4cG9ydENTVigpIHsKICAgICAgdGhpcy4kcmVmcy5kdC5leHBvcnRDU1YoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\WorkSpaceSpringBoot\\AppReportesConecta\\src\\frontend\\src\\views\\ReporteGeneral.vue"],"names":[],"mappings":"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","sourcesContent":["<template class=\"container\">\r\n  <Panel>\r\n    <h3>Análisis de Cartera</h3>\r\n  </Panel>\r\n\r\n  <Panel>\r\n    <div class=\"row text-center ml-3\">\r\n      <div class=\"col-md-3\">\r\n        <Calendar\r\n          id=\"icon\"\r\n          v-model=\"date3\"\r\n          :minDate=\"minDate\"\r\n          :maxDate=\"maxDate\"\r\n          :showIcon=\"true\"\r\n          selectionMode=\"range\"\r\n          :manualInput=\"false\"\r\n          dateFormat=\"dd/mm\"\r\n          panelClass=\"p-calendar\"\r\n          placeholder=\"Elige un rango de fecha\"\r\n          class=\"col-md-12\"\r\n        />\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <Button label=\"Enviar\" @click=\"getCitas()\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-5 mb-5\">\r\n      <DataTable\r\n        :value=\"citas\"\r\n        dataKey=\"id\"\r\n        :loading=\"loading\"\r\n        filterDisplay=\"row\"\r\n        :paginator=\"true\"\r\n        v-model:filters=\"filters\"\r\n        :rows=\"10\"\r\n        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n        :rowsPerPageOptions=\"[10, 20, 50]\"\r\n        responsiveLayout=\"scroll\"\r\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\r\n        :globalFilterFields=\"[\r\n          'DOCUMENTO',\r\n          'TM15NDEUOPE',\r\n          'GESTORGESTION',\r\n          'VGESTOR',\r\n        ]\"\r\n        sortMode=\"multiple\"\r\n        stripedRows\r\n        removableSort\r\n        ref=\"dt\"\r\n      >\r\n        <template #header>\r\n          <div class=\"row g-3\">\r\n            <div class=\"col-auto align-self-start\">\r\n              <Button\r\n                icon=\"pi pi-external-link\"\r\n                label=\"CSV\"\r\n                @click=\"exportCSV($event)\"\r\n              />\r\n            </div>\r\n            <div class=\"col-auto\">\r\n              <Button\r\n                type=\"button\"\r\n                icon=\"pi pi-filter-slash\"\r\n                label=\"Clear\"\r\n                class=\"p-button-outlined\"\r\n                @click=\"clearFilter1()\"\r\n              />\r\n            </div>\r\n            <div class=\"col-auto flex-right\">\r\n              <span class=\"p-input-icon-left\">\r\n                <i class=\"pi pi-search\" />\r\n                <InputText\r\n                  v-model=\"filters['global'].value\"\r\n                  placeholder=\"Buscar\"\r\n                />\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template #empty> No existen datos </template>\r\n        <template #loading> Cargando información. Por favor espere. </template>\r\n        <!-- DOCUMENTO -->\r\n        <Column field=\"DOCUMENTO\" header=\"Documento\" :sortable=\"true\"></Column>\r\n        <Column\r\n          field=\"TM15NDEUOPE\"\r\n          header=\"Operacion\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column field=\"TM07SCOSDES\" header=\"Cosecha\" :sortable=\"true\"></Column>\r\n        <Column field=\"MONEDADEUDA\" header=\"Cosecha\" :sortable=\"true\"></Column>\r\n        <Column\r\n          field=\"TM15NDEUCAPINI\"\r\n          header=\"Saldo Capital\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column field=\"NOMCAMPANA\" header=\"Campaña\" :sortable=\"true\"></Column>\r\n        <Column\r\n          field=\"TG01SGENDES_REACT\"\r\n          header=\"Reacción\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TG01SGENDES_CONT\"\r\n          header=\"Tipo Contacto\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"VSUPERVISOR\"\r\n          header=\"Supervisor\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column field=\"VGESTOR\" header=\"Gestor\" :sortable=\"true\"></Column>\r\n        <Column field=\"NIVEL\" header=\"Nivel\" :sortable=\"true\"></Column>\r\n        <Column\r\n          field=\"GESTORGESTION\"\r\n          header=\"Usuario Gestión\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TM09SDTCVAL_TEL\"\r\n          header=\"Teléfono\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TT01DGESFEC\"\r\n          header=\"Fecha Gestión\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TT01DGESCIT\"\r\n          header=\"Fecha Cita\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"CALIFICACION\"\r\n          header=\"Calificación\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TT03NMONTOTOTPAGO_MES\"\r\n          header=\"Pago del Mes\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"TG01SGENDES_SIT_NEG\"\r\n          header=\"Situación de Ult. Negociación\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"INTENSIDAD\"\r\n          header=\"Intensidad\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <Column\r\n          field=\"FRECUENCIA\"\r\n          header=\"Frecuencia\"\r\n          :sortable=\"true\"\r\n        ></Column>\r\n        <template #paginatorLeft>\r\n          <Button type=\"button\" icon=\"pi pi-refresh\" class=\"p-button-text\" />\r\n        </template>\r\n        <template #paginatorRight>\r\n          <Button type=\"button\" icon=\"pi pi-cloud\" class=\"p-button-text\" />\r\n        </template>\r\n      </DataTable>\r\n    </div>\r\n  </Panel>\r\n</template>\r\n\r\n<script>\r\nimport Calendar from \"primevue/calendar\";\r\nimport DataTable from \"primevue/datatable\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Cookies from \"js-cookie\";\r\nexport default {\r\n  components: {\r\n    Calendar,\r\n    DataTable,\r\n  },\r\n  data() {\r\n    return {\r\n      date3: null,\r\n      minDate: null,\r\n      maxDate: null,\r\n      loading: false,\r\n      citas: null,\r\n      filters: null,\r\n    };\r\n  },\r\n  created() {\r\n    let today = new Date();\r\n    this.minDate = new Date(today.getFullYear(), today.getMonth() - 1, 1);\r\n    this.maxDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);\r\n\r\n    this.initFilters1();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    getCitas() {\r\n      let $vue = this;\r\n\r\n      var date1 = $vue.date3 != null ? $vue.date3[0] : $vue.minDate;\r\n      var date2 = $vue.date3 != null ? $vue.date3[1] : $vue.maxDate;\r\n      var user = Cookies.get(\"user\");\r\n      if (date1 == undefined || date2 == undefined || user == undefined) {\r\n        return;\r\n      }\r\n      $vue.loading = true;\r\n      var formattedDate = moment(date1).format(\"YYYY-MM-DD\");\r\n      var formattedDateFin = moment(date2).format(\"YYYY-MM-DD\");\r\n      axios\r\n        .get(\r\n          \"/api/listarCitas?dini=\" +\r\n            formattedDate +\r\n            \"&dfin=\" +\r\n            formattedDateFin +\r\n            \"&txtusuario=\" +\r\n            user\r\n        )\r\n        .then((data) => {\r\n          this.citas = data.data.data;\r\n          this.loading = false;\r\n        });\r\n    },\r\n    clearFilter1() {\r\n      this.initFilters1();\r\n    },\r\n    initFilters1() {\r\n      this.filters = {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        DOCUMENTO: {\r\n          operator: FilterOperator.AND,\r\n          constraints: [{ value: null, matchMode: FilterMatchMode.EQUALS }],\r\n        },\r\n        TM15NDEUOPE: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        GESTORGESTION: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        VGESTOR: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n      };\r\n    },\r\n    exportCSV() {\r\n      this.$refs.dt.exportCSV();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":""}]}