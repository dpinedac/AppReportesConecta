{"version":3,"sources":["webpack:///./src/views/ReporteGeneral.vue","webpack:///./src/views/ReporteGeneral.vue?dd7b"],"names":["class","id","date3","minDate","maxDate","showIcon","selectionMode","manualInput","dateFormat","panelClass","placeholder","label","getCitas","value","citas","dataKey","totalRecords","loading","onPage","$event","onSort","onFilter","filterDisplay","paginator","filters","rows","lazy","paginatorTemplate","rowsPerPageOptions","responsiveLayout","currentPageReportTemplate","globalFilterFields","sortMode","stripedRows","removableSort","ref","header","icon","exportCSV","type","clearFilter1","empty","paginatorLeft","paginatorRight","field","filterField","sortable","components","Calendar","DataTable","data","usuario","matchMode","CONTAINS","moneda","fechaFinGest","BETWEEN","fechaIniGest","created","today","Date","this","getFullYear","getMonth","console","log","mounted","lazyParams","first","$refs","dt","sortField","sortOrder","methods","$vue","date1","date2","formattedDate","format","formattedDateFin","setTimeout","a","get","then","lazyEvent","JSON","stringify","length","Math","random","initFilters1","event","render"],"mappings":"yIAEI,eAA6B,UAAzB,wBAAoB,G,GAInBA,MAAM,wB,GACJA,MAAM,Y,GAeNA,MAAM,Y,GAKRA,MAAM,a,GA8BAA,MAAM,W,GACJA,MAAM,6B,GAONA,MAAM,Y,GASNA,MAAM,uB,GACHA,MAAM,qB,EACV,eAA0B,KAAvBA,MAAM,gBAAc,S,iBASd,sB,iBACE,6C,yPArFzB,eAEQ,Q,wBADN,iBAA6B,CAA7B,M,MAGF,eA+HQ,Q,wBA9HN,iBAmBM,CAnBN,eAmBM,MAnBN,EAmBM,CAlBJ,eAcM,MAdN,EAcM,CAbJ,eAYE,GAXAC,GAAG,O,WACM,EAAAC,M,qDAAA,EAAAA,MAAK,IACbC,QAAS,EAAAA,QACTC,QAAS,EAAAA,QACTC,UAAU,EACXC,cAAc,QACbC,aAAa,EACdC,WAAW,QACXC,WAAW,aACXC,YAAY,0BACZV,MAAM,a,6CAGV,eAEM,MAFN,EAEM,CADJ,eAA6C,GAArCW,MAAM,SAAU,QAAK,+BAAE,EAAAC,mBAInC,eAwGM,MAxGN,EAwGM,CAvGJ,eAsGY,GArGTC,MAAO,EAAAC,MACRC,QAAQ,KACPC,aAAc,EAAAA,aACdC,QAAS,EAAAA,QACT,OAAI,+BAAE,EAAAC,OAAOC,KACb,OAAI,+BAAE,EAAAC,OAAOD,KACb,SAAM,+BAAE,EAAAE,SAASF,KAClBG,cAAc,MACbC,WAAW,EACJC,QAAS,EAAAA,Q,kDAAA,EAAAA,QAAO,IACvBC,KAAM,GACNC,MAAM,EACPC,kBAAkB,uGACjBC,mBAAoB,CAAC,GAAI,GAAI,IAC9BC,iBAAiB,SACjBC,0BAA0B,8CACzBC,mBAAoB,C,mDAMrBC,SAAS,WACTC,YAAA,GACAC,cAAA,GACAC,IAAI,M,CAEOC,OAAM,gBACf,iBA0BM,CA1BN,eA0BM,MA1BN,EA0BM,CAzBJ,eAMM,MANN,EAMM,CALJ,eAIE,GAHAC,KAAK,sBACL1B,MAAM,MACL,QAAK,+BAAE,EAAA2B,UAAUnB,SAGtB,eAQM,MARN,EAQM,CAPJ,eAME,GALAoB,KAAK,SACLF,KAAK,qBACL1B,MAAM,QACNX,MAAM,oBACL,QAAK,+BAAE,EAAAwC,qBAGZ,eAQM,MARN,EAQM,CAPJ,eAMO,OANP,EAMO,CALL,EACA,eAGE,G,WAFS,EAAAhB,QAAO,UAAwBX,M,qDAA/B,EAAAW,QAAO,UAAwBX,MAAK,IAC7CH,YAAY,U,iCAMX+B,MAAK,gBAAC,iBAAkB,C,MACxBxB,QAAO,gBAAC,iBAAyC,C,MAsCjDyB,cAAa,gBACtB,iBAAmE,CAAnE,eAAmE,GAA3DH,KAAK,SAASF,KAAK,gBAAgBrC,MAAM,sBAExC2C,eAAc,gBACvB,iBAAiE,CAAjE,eAAiE,GAAzDJ,KAAK,SAASF,KAAK,cAAcrC,MAAM,sB,wBAzCjD,iBAKU,CALV,eAKU,GAJR4C,MAAM,UACNC,YAAY,UACZT,OAAO,YACNU,UAAU,IAEb,eAIU,GAHRF,MAAM,cACNR,OAAO,YACNU,UAAU,IAEb,eAAuE,GAA/DF,MAAM,cAAcR,OAAO,UAAWU,UAAU,IACxD,eAAuE,GAA/DF,MAAM,cAAcR,OAAO,UAAWU,UAAU,IACxD,eAIU,GAHRF,MAAM,iBACNR,OAAO,gBACNU,UAAU,IAEb,eAAsE,GAA9DF,MAAM,aAAaR,OAAO,UAAWU,UAAU,IACvD,eAA8E,GAAtEF,MAAM,oBAAoBR,OAAO,WAAYU,UAAU,IAC/D,eAIU,GAHRF,MAAM,mBACNR,OAAO,gBACNU,UAAU,IAEb,eAA0E,GAAlEF,MAAM,cAAcR,OAAO,aAAcU,UAAU,IAC3D,eAAkE,GAA1DF,MAAM,UAAUR,OAAO,SAAUU,UAAU,IACnD,eAA+D,GAAvDF,MAAM,QAAQR,OAAO,QAASU,UAAU,IAChD,eAAiF,GAAzEF,MAAM,gBAAgBR,OAAO,kBAAmBU,UAAU,IAClE,eAA4E,GAApEF,MAAM,kBAAkBR,OAAO,WAAYU,UAAU,IAC7D,eAA6E,GAArEF,MAAM,cAAcR,OAAO,gBAAiBU,UAAU,IAC9D,eAA0E,GAAlEF,MAAM,cAAcR,OAAO,aAAcU,UAAU,IAC3D,eAA6E,GAArEF,MAAM,eAAeR,OAAO,eAAgBU,UAAU,IAC9D,eAAsF,GAA9EF,MAAM,wBAAwBR,OAAO,eAAgBU,UAAU,IACvE,eAAqG,GAA7FF,MAAM,sBAAsBR,OAAO,gCAAiCU,UAAU,IACtF,eAAyE,GAAjEF,MAAM,aAAaR,OAAO,aAAcU,UAAU,IAC1D,eAAyE,GAAjEF,MAAM,aAAaR,OAAO,aAAcU,UAAU,Q,wJAkBnD,GACbC,WAAY,CACVC,SAAA,OACAC,UAAA,QAEFC,KALa,WAMX,MAAO,CACLhD,MAAO,KACPC,QAAS,KACTC,QAAS,KACTa,SAAS,EACTH,MAAO,KACPE,aAAa,EACbQ,QAAS,CACP2B,QAAS,CAAEtC,MAAO,KAAMuC,UAAW,OAAgBC,UACnDC,OAAQ,CAAEzC,MAAO,KAAMuC,UAAW,OAAgBC,UAClDE,aAAc,CAAE1C,MAAO,KAAMuC,UAAW,OAAgBI,SACxDC,aAAc,CAAE5C,MAAO,KAAMuC,UAAW,OAAgBI,YAI9DE,QArBa,WAsBX,IAAIC,EAAQ,IAAIC,KAChBC,KAAK1D,QAAU,IAAIyD,KAAKD,EAAMG,cAAeH,EAAMI,WAAY,GAC/DF,KAAKzD,QAAU,IAAIwD,KAAKD,EAAMG,cAAeH,EAAMI,WAAa,EAAG,GAEnEC,QAAQC,IAAIJ,KAAK1D,SACjB6D,QAAQC,IAAIJ,KAAKzD,UAEnB8D,QA7Ba,WA8BXL,KAAK5C,SAAU,EACf4C,KAAKM,WAAa,CAChBC,MAAO,EACP3C,KAAMoC,KAAKQ,MAAMC,GAAG7C,KACpB8C,UAAW,KACXC,UAAW,KACXhD,QAASqC,KAAKrC,SAEhBqC,KAAKjD,YAEP6D,QAAS,CACP7D,SADO,WACI,WACL8D,EAAOb,KACXa,EAAKzD,SAAU,EACf+C,QAAQC,IAAIS,EAAKxE,OACjB,IAAIyE,EAAsB,MAAdD,EAAKxE,MAAgBwE,EAAKxE,MAAM,GAAKwE,EAAKvE,QAClDyE,EAAsB,MAAdF,EAAKxE,MAAgBwE,EAAKxE,MAAM,GAAKwE,EAAKtE,QAClDyE,EAAgB,IAAOF,GAAOG,OAAO,cACrCC,EAAmB,IAAOH,GAAOE,OAAO,cAC5Cd,QAAQC,IAAIY,GACZG,YAAW,WACT,EAAAC,EACGC,IACC,yBACEL,EACA,SACAE,EACA,sBAEHI,KAAK,CAAEC,UAAWC,KAAKC,UAAU,EAAKnB,cACtCgB,MAAK,SAACjC,GACL,EAAKpC,MAAQoC,EAAKA,KAAKA,KACvB,EAAKlC,aAAe,EAAKF,MAAMyE,OAC/BvB,QAAQC,IAAI,EAAKjD,cACjB,EAAKC,SAAU,KAEnByD,EAAKzD,SAAU,IACE,IAAhBuE,KAAKC,SAAkB,MAE5BjD,aA7BO,WA8BLqB,KAAK6B,gBAEPA,aAhCO,WAiCL7B,KAAKrC,QAAU,CACb2B,QAAS,CAAEtC,MAAO,KAAMuC,UAAW,OAAgBC,UACnDC,OAAQ,CAAEzC,MAAO,KAAMuC,UAAW,OAAgBC,UAClDE,aAAc,CAAE1C,MAAO,KAAMuC,UAAW,OAAgBI,SACxDC,aAAc,CAAE5C,MAAO,KAAMuC,UAAW,OAAgBI,WAG5DlB,UAxCO,WAyCLuB,KAAKQ,MAAMC,GAAGhC,aAEhBpB,OA3CO,SA2CAyE,GACL9B,KAAKM,WAAawB,EAClB9B,KAAKjD,YAEPQ,OA/CO,SA+CAuE,GACL9B,KAAKM,WAAawB,EAClB9B,KAAKjD,YAEPS,SAnDO,WAoDLwC,KAAKM,WAAW3C,QAAUqC,KAAKrC,QAC/BqC,KAAKjD,cCvOX,EAAOgF,OAASA,EAED","file":"js/reporteGeneral.54ef2353.js","sourcesContent":["<template class=\"container\">\n  <Panel>\n    <h3>Reporte General Lazy</h3>\n  </Panel>\n\n  <Panel>\n    <div class=\"row text-center ml-3\">\n      <div class=\"col-md-3\">\n        <Calendar\n          id=\"icon\"\n          v-model=\"date3\"\n          :minDate=\"minDate\"\n          :maxDate=\"maxDate\"\n          :showIcon=\"true\"\n          selectionMode=\"range\"\n          :manualInput=\"false\"\n          dateFormat=\"dd/mm\"\n          panelClass=\"p-calendar\"\n          placeholder=\"Elige un rango de fecha\"\n          class=\"col-md-12\"\n        />\n      </div>\n      <div class=\"col-auto\">\n        <Button label=\"Submit\" @click=\"getCitas()\" />\n      </div>\n    </div>\n\n    <div class=\"mt-5 mb-5\">\n      <DataTable\n        :value=\"citas\"\n        dataKey=\"id\"\n        :totalRecords=\"totalRecords\"\n        :loading=\"loading\"\n        @page=\"onPage($event)\"\n        @sort=\"onSort($event)\"\n        @filter=\"onFilter($event)\"\n        filterDisplay=\"row\"\n        :paginator=\"true\"\n        v-model:filters=\"filters\"\n        :rows=\"10\"\n        :lazy=\"true\"\n        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n        :rowsPerPageOptions=\"[10, 20, 50]\"\n        responsiveLayout=\"scroll\"\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\n        :globalFilterFields=\"[\n          'usuario',\n          'cmoneda',\n          'fechaIniGest',\n          'fechaFinGest',\n        ]\"\n        sortMode=\"multiple\"\n        stripedRows\n        removableSort\n        ref=\"dt\"\n      >\n        <template #header>\n          <div class=\"row g-3\">\n            <div class=\"col-auto align-self-start\">\n              <Button\n                icon=\"pi pi-external-link\"\n                label=\"CSV\"\n                @click=\"exportCSV($event)\"\n              />\n            </div>\n            <div class=\"col-auto\">\n              <Button\n                type=\"button\"\n                icon=\"pi pi-filter-slash\"\n                label=\"Clear\"\n                class=\"p-button-outlined\"\n                @click=\"clearFilter1()\"\n              />\n            </div>\n            <div class=\"col-auto flex-right\">\n              <span class=\"p-input-icon-left\">\n                <i class=\"pi pi-search\" />\n                <InputText\n                  v-model=\"filters[('usuario', 'moneda')].value\"\n                  placeholder=\"Buscar\"\n                />\n              </span>\n            </div>\n          </div>\n        </template>\n        <template #empty> No existen datos </template>\n        <template #loading> Cargando información. Por favor espere. </template>\n        <Column\n          field=\"usuario\"\n          filterField=\"usuario\"\n          header=\"Documento\"\n          :sortable=\"true\"\n        ></Column>\n        <Column\n          field=\"TM15NDEUOPE\"\n          header=\"Operacion\"\n          :sortable=\"true\"\n        ></Column>\n        <Column field=\"TM07SCOSDES\" header=\"Cosecha\" :sortable=\"true\"></Column>\n        <Column field=\"MONEDADEUDA\" header=\"Cosecha\" :sortable=\"true\"></Column>\n        <Column\n          field=\"TM15NDEUCAPINI\"\n          header=\"Saldo Capital\"\n          :sortable=\"true\"\n        ></Column>\n        <Column field=\"NOMCAMPANA\" header=\"Campaña\" :sortable=\"true\"></Column>\n        <Column field=\"TG01SGENDES_REACT\" header=\"Reacción\" :sortable=\"true\"></Column>\n        <Column\n          field=\"TG01SGENDES_CONT\"\n          header=\"Tipo Contacto\"\n          :sortable=\"true\"\n        ></Column>\n        <Column field=\"VSUPERVISOR\" header=\"Supervisor\" :sortable=\"true\"></Column>\n        <Column field=\"VGESTOR\" header=\"Gestor\" :sortable=\"true\"></Column>\n        <Column field=\"NIVEL\" header=\"Nivel\" :sortable=\"true\"></Column>\n        <Column field=\"GESTORGESTION\" header=\"Usuario Gestión\" :sortable=\"true\"></Column>\n        <Column field=\"TM09SDTCVAL_TEL\" header=\"Teléfono\" :sortable=\"true\"></Column>\n        <Column field=\"TT01DGESFEC\" header=\"Fecha Gestión\" :sortable=\"true\"></Column>\n        <Column field=\"TT01DGESCIT\" header=\"Fecha Cita\" :sortable=\"true\"></Column>\n        <Column field=\"CALIFICACION\" header=\"Calificación\" :sortable=\"true\"></Column>\n        <Column field=\"TT03NMONTOTOTPAGO_MES\" header=\"Pago del Mes\" :sortable=\"true\"></Column>\n        <Column field=\"TG01SGENDES_SIT_NEG\" header=\"Situación de Ult. Negociación\" :sortable=\"true\"></Column>\n        <Column field=\"INTENSIDAD\" header=\"Intensidad\" :sortable=\"true\"></Column>\n        <Column field=\"FRECUENCIA\" header=\"Frecuencia\" :sortable=\"true\"></Column>\n        <template #paginatorLeft>\n          <Button type=\"button\" icon=\"pi pi-refresh\" class=\"p-button-text\" />\n        </template>\n        <template #paginatorRight>\n          <Button type=\"button\" icon=\"pi pi-cloud\" class=\"p-button-text\" />\n        </template>\n      </DataTable>\n    </div>\n  </Panel>\n</template>\n\n<script>\nimport Calendar from \"primevue/calendar\";\nimport DataTable from \"primevue/datatable\";\nimport { FilterMatchMode } from \"primevue/api\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  components: {\n    Calendar,\n    DataTable,\n  },\n  data() {\n    return {\n      date3: null,\n      minDate: null,\n      maxDate: null,\n      loading: false,\n      citas: null,\n      totalRecords:0,\n      filters: {\n        usuario: { value: null, matchMode: FilterMatchMode.CONTAINS },\n        moneda: { value: null, matchMode: FilterMatchMode.CONTAINS },\n        fechaFinGest: { value: null, matchMode: FilterMatchMode.BETWEEN },\n        fechaIniGest: { value: null, matchMode: FilterMatchMode.BETWEEN },\n      },\n    };\n  },\n  created() {\n    let today = new Date();\n    this.minDate = new Date(today.getFullYear(), today.getMonth(), 1);\n    this.maxDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n\n    console.log(this.minDate);\n    console.log(this.maxDate);\n  },\n  mounted() {\n    this.loading = true;\n    this.lazyParams = {\n      first: 0,\n      rows: this.$refs.dt.rows,\n      sortField: null,\n      sortOrder: null,\n      filters: this.filters,\n    };\n    this.getCitas();\n  },\n  methods: {\n    getCitas() {\n      let $vue = this;\n      $vue.loading = true;\n      console.log($vue.date3);\n      var date1 = $vue.date3 != null ? $vue.date3[0] : $vue.minDate;\n      var date2 = $vue.date3 != null ? $vue.date3[1] : $vue.maxDate;\n      var formattedDate = moment(date1).format(\"YYYY-MM-DD\");\n      var formattedDateFin = moment(date2).format(\"YYYY-MM-DD\");\n      console.log(formattedDate);\n      setTimeout(() => {\n        axios\n          .get(\n            \"/api/listarCitas?dini=\" +\n              formattedDate +\n              \"&dfin=\" +\n              formattedDateFin +\n              \"&txtusuario=fnunez\"\n          )\n          .then({ lazyEvent: JSON.stringify(this.lazyParams) })\n          .then((data) => {\n            this.citas = data.data.data;\n            this.totalRecords = this.citas.length;\n            console.log(this.totalRecords);\n            this.loading = false;\n          });\n        $vue.loading = false;\n      }, Math.random() * 1000 + 250);\n    },\n    clearFilter1() {\n      this.initFilters1();\n    },\n    initFilters1() {\n      this.filters = {\n        usuario: { value: null, matchMode: FilterMatchMode.CONTAINS },\n        moneda: { value: null, matchMode: FilterMatchMode.CONTAINS },\n        fechaFinGest: { value: null, matchMode: FilterMatchMode.BETWEEN },\n        fechaIniGest: { value: null, matchMode: FilterMatchMode.BETWEEN },\n      };\n    },\n    exportCSV() {\n      this.$refs.dt.exportCSV();\n    },\n    onPage(event) {\n      this.lazyParams = event;\n      this.getCitas();\n    },\n    onSort(event) {\n      this.lazyParams = event;\n      this.getCitas();\n    },\n    onFilter() {\n      this.lazyParams.filters = this.filters;\n      this.getCitas();\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import { render } from \"./ReporteGeneral.vue?vue&type=template&id=79342bdb&class=container\"\nimport script from \"./ReporteGeneral.vue?vue&type=script&lang=js\"\nexport * from \"./ReporteGeneral.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}