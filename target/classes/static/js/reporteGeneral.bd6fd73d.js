(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reporteGeneral"],{"7bfe":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("841c");var n=a("7a23"),i=Object(n["k"])("h3",null,"Citas Telefónicas",-1),c=Object(n["k"])("h5",null,"Si desea buscar por Fecha de Gestión pulsa aquí:",-1),o={class:"row text-center ml-3 mt-3"},l={class:"col-md-3"},r={class:"col-auto"},s={class:"card mt-3"},d={class:"row g-3"},u={class:"col-auto align-self-start"},h={class:"col-auto"},b={class:"col-auto flex-right"},f={class:"p-input-icon-left"},O=Object(n["k"])("i",{class:"pi pi-search"},null,-1),p=Object(n["j"])(" No existen datos "),j=Object(n["j"])(" Cargando información. Por favor espere. "),m={class:"pi pi-info-circle",style:{fontsize:"2rem"}};function k(e,t,a,k,C,g){var D=Object(n["A"])("Toast"),S=Object(n["A"])("Panel"),v=Object(n["A"])("InputSwitch"),T=Object(n["A"])("Calendar"),y=Object(n["A"])("Button"),E=Object(n["A"])("InputText"),w=Object(n["A"])("Column"),G=Object(n["A"])("DataTable"),P=Object(n["B"])("tooltip");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(D),Object(n["k"])(S,null,{default:Object(n["J"])((function(){return[i]})),_:1}),Object(n["k"])(S,null,{default:Object(n["J"])((function(){return[Object(n["k"])("div",null,[c,Object(n["k"])(v,{modelValue:C.searchFechaGestion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.searchFechaGestion=e})},null,8,["modelValue"])]),Object(n["k"])("div",o,[Object(n["k"])("div",l,[Object(n["k"])(T,{id:"icon",modelValue:C.DaysSelect,"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.DaysSelect=e}),minDate:C.minDate,maxDate:C.maxDate,showIcon:!0,selectionMode:"range",manualInput:!1,dateFormat:"dd/mm",panelClass:"p-calendar",placeholder:C.searchFechaGestion?"Seleccione Fecha Cita":"Seleccione Fecha Gestión",class:"col-md-12"},null,8,["modelValue","minDate","maxDate","placeholder"])]),Object(n["k"])("div",r,[Object(n["k"])(y,{label:"Enviar",onClick:t[3]||(t[3]=function(e){return g.getCitas()})})])]),Object(n["k"])("div",s,[Object(n["k"])(G,{value:C.citas,dataKey:"id",loading:C.loading,filterDisplay:"menu",paginator:!0,onPage:t[7]||(t[7]=function(e){return g.onPage(e)}),rows:5,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown ",rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",currentPageReportTemplate:" Del {first} al {last} de {totalRecords}",stripedRows:"",ref:"dt",totalRecords:C.totalRecords,lazy:!0,scrollHeight:"600px",class:"p-datatable-sm",rowHover:"",autoLayout:!0},{header:Object(n["J"])((function(){return[Object(n["k"])("div",d,[Object(n["k"])("div",u,[Object(n["k"])(y,{icon:"pi pi-external-link",label:"Export excel",onClick:g.exportExcel},null,8,["onClick"])]),Object(n["k"])("div",h,[Object(n["k"])(y,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"p-button-outlined",onClick:t[4]||(t[4]=function(e){return g.clearFilter1()})})]),Object(n["k"])("div",b,[Object(n["k"])("span",f,[O,Object(n["k"])(E,{modelValue:C.search,"onUpdate:modelValue":t[5]||(t[5]=function(e){return C.search=e}),placeholder:"Buscar",onChange:t[6]||(t[6]=function(e){return g.onChange()})},null,8,["modelValue"])])])])]})),empty:Object(n["J"])((function(){return[p]})),loading:Object(n["J"])((function(){return[j]})),paginatorLeft:Object(n["J"])((function(){return[Object(n["k"])(y,{type:"button",icon:"pi pi-refresh",class:"p-button-text"})]})),paginatorRight:Object(n["J"])((function(){return[Object(n["k"])(y,{type:"button",icon:"pi pi-cloud",class:"p-button-text"})]})),default:Object(n["J"])((function(){return[Object(n["k"])(w,{field:"DOCUMENTO",header:"Documento",frozen:""}),Object(n["k"])(w,{field:"TM15NDEUOPE",header:"Operacion"}),Object(n["k"])(w,{field:"TM07SCOSDES",header:"Cosecha"}),Object(n["k"])(w,{field:"MONEDADEUDA",header:"Moneda"}),Object(n["k"])(w,{field:"TM15NDEUCAPINI",header:"Capital Inicial"}),Object(n["k"])(w,{field:"TM15NDEUCAPINI_SOL",header:"Capital Inicial Soles"}),Object(n["k"])(w,{field:"TG01SGENDES_REACT",header:"Reacción"}),Object(n["k"])(w,{field:"TG01SGENDES_CONT",header:"Contacto"}),Object(n["k"])(w,{field:"TG01SGENDES_TIPCONT_ABR",header:"Tipo Contacto"}),Object(n["k"])(w,{field:"CANAL",header:"Canal"}),Object(n["k"])(w,{field:"VSUPERVISOR",header:"Supervisor"}),Object(n["k"])(w,{field:"VGESTOR",header:"Gestor"}),Object(n["k"])(w,{field:"NIVEL",header:"Nivel"}),Object(n["k"])(w,{field:"GESTORGESTION",header:"Gestor Gestión"}),Object(n["k"])(w,{field:"TT01SGESOBS",header:"Observación"},{body:Object(n["J"])((function(e){return[Object(n["K"])(Object(n["k"])("i",m,null,512),[[P,e.data.TT01SGESOBS,void 0,{top:!0}]])]})),_:1}),Object(n["k"])(w,{field:"TM09SDTCVAL_TEL",header:"Teléfono"}),Object(n["k"])(w,{field:"NOMCAMPANA",header:"Campaña"}),Object(n["k"])(w,{field:"TT01DGESFEC",header:"Fecha Gestión"}),Object(n["k"])(w,{field:"TT01DGESCIT",header:"Fecha Cita"}),Object(n["k"])(w,{field:"CALIFICACION",header:"Calificación"}),Object(n["k"])(w,{field:"TT03NMONTOTOTPAGO_MES",header:"Monto Pago Mes"}),Object(n["k"])(w,{field:"TG01SGENDES_ULT_SIT_NEG",header:"Ult. situación de Negociación"}),Object(n["k"])(w,{field:"INTENSIDAD",header:"Intensidad"}),Object(n["k"])(w,{field:"FRECUENCIA",header:"Frecuencia"})]})),_:1},8,["value","loading","totalRecords"])])]})),_:1})],64)}a("1276"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("5319");var C=a("cb8b"),g=a("5b2c"),D=a("d4ec"),S=a("bee2"),v=a("bc3a"),T=a.n(v),y=function(){function e(){Object(D["a"])(this,e)}return Object(S["a"])(e,[{key:"getCitasLazy",value:function(e){return T.a.post("/api/listarCitas",e).then((function(e){return e}))}},{key:"getCitas",value:function(e,t,a,n){return T.a.post("/api/asyncListarCitas/"+e+"/"+t+"/"+a,n).then((function(e){return e}))}},{key:"downloadCitas",value:function(e){return T.a.post("/api/downloadCitas",e,{responseType:"blob"}).then((function(e){return e}))}}]),e}(),E=a("6b8c"),w=a("c1df"),G=a.n(w),P=a("0393"),R=a("f4ad"),N={components:{Calendar:C["a"],DataTable:g["a"],InputSwitch:R["a"]},directives:{tooltip:E["a"],primeIcons:P["d"]},data:function(){return{DaysSelect:[],minDate:null,maxDate:null,loading:!1,citas:null,search:null,totalRecords:0,formattedDate:null,formattedDateFin:null,searchFechaGestion:!1,totalFilter:0}},ReporteGeneralService:null,created:function(){var e=new Date;this.minDate=new Date(e.getFullYear(),e.getMonth()-1,1),this.maxDate=new Date(e.getFullYear(),e.getMonth()+1,0),this.ReporteGeneralService=new y},mounted:function(){this.lazyParams={page:0,rows:this.$refs.dt.rows},this.getCitas()},methods:{getCitas:function(){var e=this,t=this,a=new Date,n=new Date(a.getFullYear(),a.getMonth(),1),i=a;0!=t.DaysSelect.length?(n=t.DaysSelect[0],i=t.DaysSelect[1]):(t.DaysSelect[0]=n,t.DaysSelect[1]=i),void 0!=n&&void 0!=i&&(t.loading=!0,this.formattedDate=G()(n).format("YYYY-MM-DD"),this.formattedDateFin=G()(i).format("YYYY-MM-DD"),this.ReporteGeneralService.getCitas(this.formattedDate,this.formattedDateFin,this.searchFechaGestion,t.lazyParams).then((function(t){var a=t.data;e.citas=a.data,e.totalRecords=a.totalRecords,e.loading=!1})))},getCitasLazy:function(){var e=this,t=this;this.loading=!0,this.ReporteGeneralService.getCitasLazy(t.lazyParams).then((function(t){var a=t.data;e.citas=a.data,e.totalRecords=null==a.totalFilter?a.totalRecords:a.totalFilter,e.loading=!1}))},clearFilter1:function(){this.initFilters1(),this.getCitasLazy()},initFilters1:function(){this.search=null,this.lazyParams.search=null},onPage:function(e){this.lazyParams=e,this.lazyParams.search=this.search,this.getCitasLazy()},onChange:function(){this.lazyParams.search=this.search,this.getCitasLazy()},exportExcel:function(){var e=this;this.ReporteGeneralService.downloadCitas(this.lazyParams).then((function(t){console.log(t);var a=t.headers["content-disposition"],n=a?a.substr(a.indexOf("filename")):"",i=n?n.split("=")[1]:"";if(i.substr(i.indexOf("."))){var c=new Blob([t.data],{type:"application/x-download;charset=utf-8"}),o=document.createElement("a"),l=window.URL.createObjectURL(c);o.href=l,o.download=decodeURIComponent(i.replace("_","")),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l)}else e.$notify({"título":"Prompt",mensaje:"No hay datos que desee",type:"error"})}))}}};N.render=k;t["default"]=N},dda8:function(e,t,a){"use strict";a.r(t);var n=a("7a23");function i(e,t,a,i,c,o){return Object(n["u"])(),Object(n["g"])("div",null,"Usuario no existe")}var c={created:function(){},watch:{},props:{},methods:{}};c.render=i;t["default"]=c}}]);
//# sourceMappingURL=reporteGeneral.bd6fd73d.js.map