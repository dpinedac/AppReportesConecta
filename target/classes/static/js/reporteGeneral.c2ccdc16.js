(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reporteGeneral"],{"7bfe":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c");var a=n("7a23"),i=Object(a["j"])("h3",null,"Citas Telefónicas",-1),o={class:"row text-center ml-3"},l={class:"col-md-3"},r={class:"col-auto"},c={class:"card mt-3"},s={class:"row g-3"},d={class:"col-auto align-self-start"},u={class:"col-auto"},p={class:"col-auto flex-right"},f={class:"p-input-icon-left"},O=Object(a["j"])("i",{class:"pi pi-search"},null,-1),b=Object(a["i"])(" No existen datos "),h=Object(a["i"])(" Cargando información. Por favor espere. "),j={class:"pi pi-info-circle",style:{fontsize:"2rem"}};function m(e,t,n,m,g,C){var T=Object(a["z"])("Panel"),E=Object(a["z"])("Calendar"),S=Object(a["z"])("Button"),D=Object(a["z"])("InputText"),v=Object(a["z"])("Column"),I=Object(a["z"])("DataTable"),N=Object(a["A"])("tooltip");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["j"])(T,null,{default:Object(a["I"])((function(){return[i]})),_:1}),Object(a["j"])(T,null,{default:Object(a["I"])((function(){return[Object(a["j"])("div",o,[Object(a["j"])("div",l,[Object(a["j"])(E,{id:"icon",modelValue:g.DaysSelect,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.DaysSelect=e}),minDate:g.minDate,maxDate:g.maxDate,showIcon:!0,selectionMode:"range",manualInput:!1,dateFormat:"dd/mm",panelClass:"p-calendar",placeholder:"Elige un rango de fecha",class:"col-md-12"},null,8,["modelValue","minDate","maxDate"])]),Object(a["j"])("div",r,[Object(a["j"])(S,{label:"Enviar",onClick:t[2]||(t[2]=function(e){return C.eventCitas()})})])]),Object(a["j"])("div",c,[Object(a["j"])(I,{value:g.citas,dataKey:"id",loading:g.loading,filterDisplay:"menu",paginator:!0,onPage:t[6]||(t[6]=function(e){return C.onPage(e)}),rows:5,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown ",rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",currentPageReportTemplate:"Del {first} al {last} de {totalRecords}",stripedRows:"",ref:"dt",totalRecords:g.totalRecords,lazy:!0,scrollHeight:"600px",class:"p-datatable-sm",rowHover:"",autoLayout:!0},{header:Object(a["I"])((function(){return[Object(a["j"])("div",s,[Object(a["j"])("div",d,[Object(a["j"])(S,{icon:"pi pi-external-link",label:"Export excel",onClick:C.exportExcel},null,8,["onClick"])]),Object(a["j"])("div",u,[Object(a["j"])(S,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"p-button-outlined",onClick:t[3]||(t[3]=function(e){return C.clearFilter1()})})]),Object(a["j"])("div",p,[Object(a["j"])("span",f,[O,Object(a["j"])(D,{modelValue:g.search,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.search=e}),placeholder:"Buscar",onChange:t[5]||(t[5]=function(e){return C.onChange()})},null,8,["modelValue"])])])])]})),empty:Object(a["I"])((function(){return[b]})),loading:Object(a["I"])((function(){return[h]})),paginatorLeft:Object(a["I"])((function(){return[Object(a["j"])(S,{type:"button",icon:"pi pi-refresh",class:"p-button-text"})]})),paginatorRight:Object(a["I"])((function(){return[Object(a["j"])(S,{type:"button",icon:"pi pi-cloud",class:"p-button-text"})]})),default:Object(a["I"])((function(){return[Object(a["j"])(v,{field:"DOCUMENTO",header:"Documento",frozen:""}),Object(a["j"])(v,{field:"TM15NDEUOPE",header:"Operacion"}),Object(a["j"])(v,{field:"TM07SCOSDES",header:"Cosecha"}),Object(a["j"])(v,{field:"MONEDADEUDA",header:"Moneda"}),Object(a["j"])(v,{field:"TM15NDEUCAPINI",header:"Capital Inicial"}),Object(a["j"])(v,{field:"TM15NDEUCAPINI_SOL",header:"Capital Inicial Soles"}),Object(a["j"])(v,{field:"TG01SGENDES_REACT",header:"Reacción"}),Object(a["j"])(v,{field:"TG01SGENDES_CONT",header:"Contacto"}),Object(a["j"])(v,{field:"TG01SGENDES_TIPCONT_ABR",header:"Tipo Contacto"}),Object(a["j"])(v,{field:"CANAL",header:"Canal"}),Object(a["j"])(v,{field:"VSUPERVISOR",header:"Supervisor"}),Object(a["j"])(v,{field:"VGESTOR",header:"Gestor"}),Object(a["j"])(v,{field:"NIVEL",header:"Nivel"}),Object(a["j"])(v,{field:"GESTORGESTION",header:"Gestor Gestión"}),Object(a["j"])(v,{field:"TT01SGESOBS",header:"Observación"},{body:Object(a["I"])((function(e){return[Object(a["J"])(Object(a["j"])("i",j,null,512),[[N,e.data.TT01SGESOBS,void 0,{top:!0}]])]})),_:1}),Object(a["j"])(v,{field:"TM09SDTCVAL_TEL",header:"Teléfono"}),Object(a["j"])(v,{field:"NOMCAMPANA",header:"Campaña"}),Object(a["j"])(v,{field:"TT01DGESFEC",header:"Fecha Gestión"}),Object(a["j"])(v,{field:"TT01DGESCIT",header:"Fecha Cita"}),Object(a["j"])(v,{field:"CALIFICACION",header:"Calificación"}),Object(a["j"])(v,{field:"TT03NMONTOTOTPAGO_MES",header:"Monto Pago Mes"}),Object(a["j"])(v,{field:"TG01SGENDES_ULT_SIT_NEG",header:"Ult. situación de Negociación"}),Object(a["j"])(v,{field:"INTENSIDAD",header:"Intensidad"}),Object(a["j"])(v,{field:"FRECUENCIA",header:"Frecuencia"})]})),_:1},8,["value","loading","totalRecords"])])]})),_:1})],64)}n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d");var g=n("cb8b"),C=n("5b2c"),T=n("360f"),E=n("3ebc"),S=n("dd76");function D(e){const t=e.$_ptooltipModifiers;t.focus?(e.addEventListener("focus",_),e.addEventListener("blur",G)):(e.addEventListener("mouseenter",M),e.addEventListener("mouseleave",y),e.addEventListener("click",L))}function v(e){const t=e.$_ptooltipModifiers;t.focus?(e.removeEventListener("focus",_),e.removeEventListener("blur",G)):(e.removeEventListener("mouseenter",M),e.removeEventListener("mouseleave",y),e.removeEventListener("click",L))}function I(e){e.$_ptooltipScrollHandler||(e.$_ptooltipScrollHandler=new S["a"](e,(function(){x(e)}))),e.$_ptooltipScrollHandler.bindScrollListener()}function N(e){e.$_ptooltipScrollHandler&&e.$_ptooltipScrollHandler.unbindScrollListener()}function M(e){P(e.currentTarget)}function y(e){x(e.currentTarget)}function _(e){P(e.currentTarget)}function G(e){x(e.currentTarget)}function L(e){x(e.currentTarget)}function P(e){if(!e.$_ptooltipValue)return;let t=w(e);$(e),S["b"].fadeIn(t,250),window.addEventListener("resize",(function t(){x(e),this.removeEventListener("resize",t)})),I(e),S["f"].set("tooltip",t,e.$_ptooltipZIndex)}function x(e){R(e),N(e),S["f"].clear(e)}function A(e){return document.getElementById(e.$_ptooltipId)}function w(e){const t=Object(S["e"])()+"_tooltip";e.$_ptooltipId=t;let n=document.createElement("div");n.id=t;let a=document.createElement("div");a.className="p-tooltip-arrow",n.appendChild(a);let i=document.createElement("div");return i.className="p-tooltip-text",i.innerHTML=e.$_ptooltipValue,n.appendChild(i),document.body.appendChild(n),n.style.display="inline-block",n}function R(e){if(e){let t=A(e);t&&t.parentElement&&document.body.removeChild(t),e.$_ptooltipId=null}}function $(e){const t=e.$_ptooltipModifiers;t.top?(z(e),B(e)&&H(e)):t.left?(V(e),B(e)&&(U(e),B(e)&&(z(e),B(e)&&H(e)))):t.bottom?(H(e),B(e)&&z(e)):(U(e),B(e)&&(V(e),B(e)&&(z(e),B(e)&&H(e))))}function F(e){let t=e.getBoundingClientRect(),n=t.left+S["b"].getWindowScrollLeft(),a=t.top+S["b"].getWindowScrollTop();return{left:n,top:a}}function U(e){k(e,"right");let t=A(e),n=F(e),a=n.left+S["b"].getOuterWidth(e),i=n.top+(S["b"].getOuterHeight(e)-S["b"].getOuterHeight(t))/2;t.style.left=a+"px",t.style.top=i+"px"}function V(e){k(e,"left");let t=A(e),n=F(e),a=n.left-S["b"].getOuterWidth(t),i=n.top+(S["b"].getOuterHeight(e)-S["b"].getOuterHeight(t))/2;t.style.left=a+"px",t.style.top=i+"px"}function z(e){k(e,"top");let t=A(e),n=F(e),a=n.left+(S["b"].getOuterWidth(e)-S["b"].getOuterWidth(t))/2,i=n.top-S["b"].getOuterHeight(t);t.style.left=a+"px",t.style.top=i+"px"}function H(e){k(e,"bottom");let t=A(e),n=F(e),a=n.left+(S["b"].getOuterWidth(e)-S["b"].getOuterWidth(t))/2,i=n.top+S["b"].getOuterHeight(e);t.style.left=a+"px",t.style.top=i+"px"}function k(e,t){let n=A(e);n.style.left="-999px",n.style.top="-999px",n.className="p-tooltip p-component p-tooltip-"+t}function B(e){let t=A(e),n=t.getBoundingClientRect(),a=n.top,i=n.left,o=S["b"].getOuterWidth(t),l=S["b"].getOuterHeight(t),r=S["b"].getViewport();return i+o>r.width||i<0||a<0||a+l>r.height}function Y(e){return S["b"].hasClass(e,"p-inputwrapper")?S["b"].findSingle(e,"input"):e}const W={beforeMount(e,t){let n=Y(e);n.$_ptooltipModifiers=t.modifiers,n.$_ptooltipValue=t.value,n.$_ptooltipZIndex=t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.zIndex.tooltip,D(n)},unmounted(e){let t=Y(e);R(t),v(t),t.$_ptooltipScrollHandler&&(t.$_ptooltipScrollHandler.destroy(),t.$_ptooltipScrollHandler=null),S["f"].clear(e)},updated(e,t){let n=Y(e);n.$_ptooltipModifiers=t.modifiers,n.$_ptooltipValue=t.value}};var J=W,Z=n("c1df"),K=n.n(Z),q=n("0393"),Q={components:{Calendar:g["a"],DataTable:C["a"]},directives:{tooltip:J,primeIcons:q["d"]},data:function(){return{DaysSelect:null,minDate:null,maxDate:null,loading:!1,citas:null,search:null,mapByPage:new Map,totalRecords:0,formattedDate:null,formattedDateFin:null}},ReporteGeneralService:null,Utils:null,created:function(){var e=new Date;this.minDate=new Date(e.getFullYear(),e.getMonth()-1,1),this.maxDate=new Date(e.getFullYear(),e.getMonth()+1,0),this.ReporteGeneralService=new T["a"],this.Utils=new E["a"],this.initFilters1()},mounted:function(){this.lazyParams={first:0,rows:this.$refs.dt.rows,sortField:null,sortOrder:null}},methods:{eventCitas:function(){this.getCitasAsync(),this.getCitas()},getCitasAsync:function(){var e=this,t=this;t.loading=!0;var n=null!=t.DaysSelect?t.DaysSelect[0]:t.minDate,a=null!=t.DaysSelect?t.DaysSelect[1]:t.maxDate;void 0!=n&&void 0!=a&&(t.loading=!0,this.formattedDate=K()(n).format("YYYY-MM-DD"),this.formattedDateFin=K()(a).format("YYYY-MM-DD"),setTimeout((function(){e.ReporteGeneralService.getCitasAsync(e.formattedDate,e.formattedDateFin).then((function(t){e.allCitas=t.data,e.totalRecords=e.allCitas.length}))}),1e3*Math.random()+250))},getCitas:function(){var e=this;setTimeout((function(){e.ReporteGeneralService.getCitas(e.formattedDate,e.formattedDateFin).then((function(t){e.allCitas=t.data,e.Utils.setMap(e.allCitas,e.lazyParams.rows,e.mapByPage),e.getLazy(0),e.totalRecords=e.allCitas.length,e.loading=!1}))}),1e3*Math.random()+250)},clearFilter1:function(){this.initFilters1()},initFilters1:function(){this.search=null},exportCSV:function(){this.$refs.dt.exportCSV()},getLazy:function(e){this.citas=this.mapByPage.get(e)},onPage:function(e){this.lazyParams.rows!=e.rows&&this.Utils.setMap(this.allCitas,e.rows,this.mapByPage),this.lazyParams=e,this.getLazy(this.lazyParams.page)},onChange:function(){var e=this.Utils.findByValue(this.allCitas,this.search);this.citas=e},exportExcel:function(){var e=this;n.e("chunk-8305ab16").then(function(){var t=n("42f0"),a=t.export_json_to_excel,i=["Documento","Operación","Cosecha","Moneda","Capital Inicial","Capital Inicial Soles","Reacción","Contacto","Tipo Contacto","Canal","Supervisor","Gestor","Nivel","Gestion Gestión","Observación","Teléfono","Campaña","Fecha de Gestión","Fecha de Cita","Calificación","Monto Pago Mes","Ultima Situación de Negociación","Intesidad","Frecuencia"],o=["DOCUMENTO","TM15NDEUOPE","TM07SCOSDES","MONEDADEUDA","TM15NDEUCAPINI","TM15NDEUCAPINI_SOL","TG01SGENDES_REACT","TG01SGENDES_CONT","TG01SGENDES_TIPCONT_ABR","CANAL","VSUPERVISOR","VGESTOR","NIVEL","GESTORGESTION","TT01SGESOBS","TM09SDTCVAL_TEL","NOMCAMPANA","TT01DGESFEC","TT01DGESCIT","CALIFICACION","TT03NMONTOTOTPAGO_MES","TG01SGENDES_ULT_SIT_NEG","INTENSIDAD","FRECUENCIA"],l=e.allCitas;if(void 0!=l&&0!=l.length){var r=e.formatJson(o,l),c=K()(e.minDate).format("DD/MM"),s=K()(e.maxDate).format("DD/MM");a(i,r,"Reporte Citas Tel "+c+" al "+s)}}.bind(null,n)).catch(n.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}}};Q.render=m;t["default"]=Q},dda8:function(e,t,n){"use strict";n.r(t);var a=n("7a23");function i(e,t,n,i,o,l){return Object(a["t"])(),Object(a["f"])("div",null,"Usuario no existe")}var o={created:function(){},watch:{},props:{},methods:{}};o.render=i;t["default"]=o}}]);
//# sourceMappingURL=reporteGeneral.c2ccdc16.js.map