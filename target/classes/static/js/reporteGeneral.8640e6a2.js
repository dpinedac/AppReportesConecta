(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reporteGeneral"],{"7bfe":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c");var i=n("7a23"),a=Object(i["j"])("h3",null,"Citas Telefónicas",-1),o={class:"row text-center ml-3"},l={class:"col-md-3"},r={class:"col-auto"},c={class:"card mt-3"},s={class:"row g-3"},d={class:"col-auto align-self-start"},u={class:"col-auto"},p={class:"col-auto flex-right"},f={class:"p-input-icon-left"},O=Object(i["j"])("i",{class:"pi pi-search"},null,-1),b=Object(i["i"])(" No existen datos "),j=Object(i["i"])(" Cargando información. Por favor espere. "),h={class:"pi pi-info-circle ",style:{fontSize:"2rem"}};function m(e,t,n,m,g,T){var E=Object(i["z"])("Panel"),C=Object(i["z"])("Calendar"),S=Object(i["z"])("Button"),v=Object(i["z"])("InputText"),D=Object(i["z"])("Column"),I=Object(i["z"])("DataTable"),N=Object(i["A"])("tooltip");return Object(i["t"])(),Object(i["f"])(i["a"],null,[Object(i["j"])(E,null,{default:Object(i["I"])((function(){return[a]})),_:1}),Object(i["j"])(E,null,{default:Object(i["I"])((function(){return[Object(i["j"])("div",o,[Object(i["j"])("div",l,[Object(i["j"])(C,{id:"icon",modelValue:g.DaysSelect,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.DaysSelect=e}),minDate:g.minDate,maxDate:g.maxDate,showIcon:!0,selectionMode:"range",manualInput:!1,dateFormat:"dd/mm",panelClass:"p-calendar",placeholder:"Elige un rango de fecha",class:"col-md-12"},null,8,["modelValue","minDate","maxDate"])]),Object(i["j"])("div",r,[Object(i["j"])(S,{label:"Enviar",onClick:t[2]||(t[2]=function(e){return T.getCitas()})})])]),Object(i["j"])("div",c,[Object(i["j"])(I,{value:g.citas,dataKey:"id",loading:g.loading,filterDisplay:"menu",paginator:!0,onPage:t[6]||(t[6]=function(e){return T.onPage(e)}),rows:5,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown ",rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",currentPageReportTemplate:"Del {first} al {last} de {totalRecords}",stripedRows:"",ref:"dt",totalRecords:g.totalRecords,lazy:!0,scrollHeight:"600px",class:"p-datatable-sm",rowHover:"",autoLayout:!0},{header:Object(i["I"])((function(){return[Object(i["j"])("div",s,[Object(i["j"])("div",d,[Object(i["j"])(S,{icon:"pi pi-external-link",label:"Export excel",onClick:T.exportExcel},null,8,["onClick"])]),Object(i["j"])("div",u,[Object(i["j"])(S,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"p-button-outlined",onClick:t[3]||(t[3]=function(e){return T.clearFilter1()})})]),Object(i["j"])("div",p,[Object(i["j"])("span",f,[O,Object(i["j"])(v,{modelValue:g.search,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.search=e}),placeholder:"Buscar",onChange:t[5]||(t[5]=function(e){return T.onChange()})},null,8,["modelValue"])])])])]})),empty:Object(i["I"])((function(){return[b]})),loading:Object(i["I"])((function(){return[j]})),paginatorLeft:Object(i["I"])((function(){return[Object(i["j"])(S,{type:"button",icon:"pi pi-refresh",class:"p-button-text"})]})),paginatorRight:Object(i["I"])((function(){return[Object(i["j"])(S,{type:"button",icon:"pi pi-cloud",class:"p-button-text"})]})),default:Object(i["I"])((function(){return[Object(i["j"])(D,{field:"DOCUMENTO",header:"Documento",frozen:""}),Object(i["j"])(D,{field:"TM15NDEUOPE",header:"Operacion"}),Object(i["j"])(D,{field:"TM07SCOSDES",header:"Cosecha"}),Object(i["j"])(D,{field:"MONEDADEUDA",header:"Moneda"}),Object(i["j"])(D,{field:"TM15NDEUCAPINI",header:"Capital Inicial"}),Object(i["j"])(D,{field:"TM15NDEUCAPINI_SOL",header:"Capital Inicial Soles"}),Object(i["j"])(D,{field:"TG01SGENDES_REACT",header:"Reacción"}),Object(i["j"])(D,{field:"TG01SGENDES_CONT",header:"Contacto"}),Object(i["j"])(D,{field:"TG01SGENDES_TIPCONT_ABR",header:"Tipo Contacto"}),Object(i["j"])(D,{field:"CANAL",header:"Canal"}),Object(i["j"])(D,{field:"VSUPERVISOR",header:"Supervisor"}),Object(i["j"])(D,{field:"VGESTOR",header:"Gestor"}),Object(i["j"])(D,{field:"NIVEL",header:"Nivel"}),Object(i["j"])(D,{field:"GESTORGESTION",header:"Gestor Gestión"}),Object(i["j"])(D,{field:"TT01SGESOBS",header:"Observación"},{body:Object(i["I"])((function(e){return[Object(i["J"])(Object(i["j"])("i",h,null,512),[[N,e.data.TT01SGESOBS,void 0,{top:!0}]])]})),_:1}),Object(i["j"])(D,{field:"TM09SDTCVAL_TEL",header:"Teléfono"}),Object(i["j"])(D,{field:"NOMCAMPANA",header:"Campaña"}),Object(i["j"])(D,{field:"TT01DGESFEC",header:"Fecha Gestión"}),Object(i["j"])(D,{field:"TT01DGESCIT",header:"Fecha Cita"}),Object(i["j"])(D,{field:"CALIFICACION",header:"Calificación"}),Object(i["j"])(D,{field:"TT03NMONTOTOTPAGO_MES",header:"Monto Pago Mes"}),Object(i["j"])(D,{field:"TG01SGENDES_ULT_SIT_NEG",header:"Ult. situación de Negociación"}),Object(i["j"])(D,{field:"INTENSIDAD",header:"Intensidad"}),Object(i["j"])(D,{field:"FRECUENCIA",header:"Frecuencia"})]})),_:1},8,["value","loading","totalRecords"])])]})),_:1})],64)}n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d");var g=n("cb8b"),T=n("5b2c"),E=n("360f"),C=n("3ebc"),S=n("dd76");function v(e){const t=e.$_ptooltipModifiers;t.focus?(e.addEventListener("focus",y),e.addEventListener("blur",G)):(e.addEventListener("mouseenter",M),e.addEventListener("mouseleave",_),e.addEventListener("click",L))}function D(e){const t=e.$_ptooltipModifiers;t.focus?(e.removeEventListener("focus",y),e.removeEventListener("blur",G)):(e.removeEventListener("mouseenter",M),e.removeEventListener("mouseleave",_),e.removeEventListener("click",L))}function I(e){e.$_ptooltipScrollHandler||(e.$_ptooltipScrollHandler=new S["a"](e,(function(){x(e)}))),e.$_ptooltipScrollHandler.bindScrollListener()}function N(e){e.$_ptooltipScrollHandler&&e.$_ptooltipScrollHandler.unbindScrollListener()}function M(e){P(e.currentTarget)}function _(e){x(e.currentTarget)}function y(e){P(e.currentTarget)}function G(e){x(e.currentTarget)}function L(e){x(e.currentTarget)}function P(e){if(!e.$_ptooltipValue)return;let t=A(e);$(e),S["b"].fadeIn(t,250),window.addEventListener("resize",(function t(){x(e),this.removeEventListener("resize",t)})),I(e),S["f"].set("tooltip",t,e.$_ptooltipZIndex)}function x(e){R(e),N(e),S["f"].clear(e)}function w(e){return document.getElementById(e.$_ptooltipId)}function A(e){const t=Object(S["e"])()+"_tooltip";e.$_ptooltipId=t;let n=document.createElement("div");n.id=t;let i=document.createElement("div");i.className="p-tooltip-arrow",n.appendChild(i);let a=document.createElement("div");return a.className="p-tooltip-text",a.innerHTML=e.$_ptooltipValue,n.appendChild(a),document.body.appendChild(n),n.style.display="inline-block",n}function R(e){if(e){let t=w(e);t&&t.parentElement&&document.body.removeChild(t),e.$_ptooltipId=null}}function $(e){const t=e.$_ptooltipModifiers;t.top?(z(e),B(e)&&H(e)):t.left?(F(e),B(e)&&(V(e),B(e)&&(z(e),B(e)&&H(e)))):t.bottom?(H(e),B(e)&&z(e)):(V(e),B(e)&&(F(e),B(e)&&(z(e),B(e)&&H(e))))}function U(e){let t=e.getBoundingClientRect(),n=t.left+S["b"].getWindowScrollLeft(),i=t.top+S["b"].getWindowScrollTop();return{left:n,top:i}}function V(e){k(e,"right");let t=w(e),n=U(e),i=n.left+S["b"].getOuterWidth(e),a=n.top+(S["b"].getOuterHeight(e)-S["b"].getOuterHeight(t))/2;t.style.left=i+"px",t.style.top=a+"px"}function F(e){k(e,"left");let t=w(e),n=U(e),i=n.left-S["b"].getOuterWidth(t),a=n.top+(S["b"].getOuterHeight(e)-S["b"].getOuterHeight(t))/2;t.style.left=i+"px",t.style.top=a+"px"}function z(e){k(e,"top");let t=w(e),n=U(e),i=n.left+(S["b"].getOuterWidth(e)-S["b"].getOuterWidth(t))/2,a=n.top-S["b"].getOuterHeight(t);t.style.left=i+"px",t.style.top=a+"px"}function H(e){k(e,"bottom");let t=w(e),n=U(e),i=n.left+(S["b"].getOuterWidth(e)-S["b"].getOuterWidth(t))/2,a=n.top+S["b"].getOuterHeight(e);t.style.left=i+"px",t.style.top=a+"px"}function k(e,t){let n=w(e);n.style.left="-999px",n.style.top="-999px",n.className="p-tooltip p-component p-tooltip-"+t}function B(e){let t=w(e),n=t.getBoundingClientRect(),i=n.top,a=n.left,o=S["b"].getOuterWidth(t),l=S["b"].getOuterHeight(t),r=S["b"].getViewport();return a+o>r.width||a<0||i<0||i+l>r.height}function Y(e){return S["b"].hasClass(e,"p-inputwrapper")?S["b"].findSingle(e,"input"):e}const W={beforeMount(e,t){let n=Y(e);n.$_ptooltipModifiers=t.modifiers,n.$_ptooltipValue=t.value,n.$_ptooltipZIndex=t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.zIndex.tooltip,v(n)},unmounted(e){let t=Y(e);R(t),D(t),t.$_ptooltipScrollHandler&&(t.$_ptooltipScrollHandler.destroy(),t.$_ptooltipScrollHandler=null),S["f"].clear(e)},updated(e,t){let n=Y(e);n.$_ptooltipModifiers=t.modifiers,n.$_ptooltipValue=t.value}};var J=W,Z=n("c1df"),K=n.n(Z),q=n("0393"),Q={components:{Calendar:g["a"],DataTable:T["a"]},directives:{tooltip:J,primeIcons:q["d"]},data:function(){return{DaysSelect:null,minDate:null,maxDate:null,loading:!1,citas:null,search:null,mapByPage:new Map,totalRecords:0}},ReporteGeneralService:null,Utils:null,created:function(){var e=new Date;this.minDate=new Date(e.getFullYear(),e.getMonth()-1,1),this.maxDate=new Date(e.getFullYear(),e.getMonth()+1,0),this.ReporteGeneralService=new E["a"],this.Utils=new C["a"],this.initFilters1()},mounted:function(){this.lazyParams={first:0,rows:this.$refs.dt.rows,sortField:null,sortOrder:null}},methods:{getCitas:function(){var e=this,t=this;t.loading=!0;var n=null!=t.DaysSelect?t.DaysSelect[0]:t.minDate,i=null!=t.DaysSelect?t.DaysSelect[1]:t.maxDate;if(void 0!=n&&void 0!=i){t.loading=!0;var a=K()(n).format("YYYY-MM-DD"),o=K()(i).format("YYYY-MM-DD");setTimeout((function(){e.ReporteGeneralService.getCitas(a,o).then((function(t){e.allCitas=t.data,e.Utils.setMap(e.allCitas,e.lazyParams.rows,e.mapByPage),e.getLazy(0),e.totalRecords=e.allCitas.length,e.loading=!1}))}),1e3*Math.random()+250)}},clearFilter1:function(){this.initFilters1()},initFilters1:function(){this.search=null},exportCSV:function(){this.$refs.dt.exportCSV()},getLazy:function(e){this.citas=this.mapByPage.get(e)},onPage:function(e){this.lazyParams.rows!=e.rows&&this.Utils.setMap(this.allCitas,e.rows,this.mapByPage),this.lazyParams=e,this.getLazy(this.lazyParams.page)},onChange:function(){var e=this.Utils.findByValue(this.allCitas,this.search);this.citas=e},exportExcel:function(){var e=this;n.e("chunk-8305ab16").then(function(){var t=n("42f0"),i=t.export_json_to_excel,a=["Documento","Operación","Cosecha","Moneda","Capital Inicial","Capital Inicial Soles","Reacción","Contacto","Tipo Contacto","Canal","Supervisor","Gestor","Nivel","Gestion Gestión","Observación","Teléfono","Campaña","Fecha de Gestión","Fecha de Cita","Calificación","Monto Pago Mes","Ultima Situación de Negociación","Intesidad","Frecuencia"],o=["DOCUMENTO","TM15NDEUOPE","TM07SCOSDES","MONEDADEUDA","TM15NDEUCAPINI","TM15NDEUCAPINI_SOL","TG01SGENDES_REACT","TG01SGENDES_CONT","TG01SGENDES_TIPCONT_ABR","CANAL","VSUPERVISOR","VGESTOR","NIVEL","GESTORGESTION","TT01SGESOBS","TM09SDTCVAL_TEL","NOMCAMPANA","TT01DGESFEC","TT01DGESCIT","CALIFICACION","TT03NMONTOTOTPAGO_MES","TG01SGENDES_ULT_SIT_NEG","INTENSIDAD","FRECUENCIA"],l=e.allCitas;if(void 0!=l&&0!=l.length){var r=e.formatJson(o,l),c=K()(e.minDate).format("DD/MM"),s=K()(e.maxDate).format("DD/MM");i(a,r,"Reporte Citas Tel "+c+" al "+s)}}.bind(null,n)).catch(n.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}}};Q.render=m;t["default"]=Q},dda8:function(e,t,n){"use strict";n.r(t);var i=n("7a23");function a(e,t,n,a,o,l){return Object(i["t"])(),Object(i["f"])("div",null,"Usuario no existe")}var o={created:function(){},watch:{},props:{},methods:{}};o.render=a;t["default"]=o}}]);
//# sourceMappingURL=reporteGeneral.8640e6a2.js.map